{"version":3,"file":"testing.component.js","sourceRoot":"","sources":["testing.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, OnInit} from \"@angular/core\";\nimport {remote} from \"electron\";\nimport {TestingService} from \"../../services/testing.service\";\nimport {FileUploader} from 'ng2-file-upload/ng2-file-upload';\n\nconst fse = require('fs-extra');\nconst fs = require('fs');\nconst path = require('path');\n\n@Component({\n    selector: 'app-teacherTesting',\n    templateUrl: './testing.component.html',\n    styleUrls: ['./testing.component.css']\n\n})\nexport class TeacherTestingComponent implements OnInit {\n    win: Electron.BrowserWindow;\n    title: string;\n    tests: any;\n    newTest: any[];\n    themeArray: any[];\n    changeTest: boolean;\n    changeAddTest: boolean;\n    changeAddTheme: boolean;\n    newQuestion: string;\n    newAns1: string;\n    newAns2: string;\n    newAns3: string;\n    newAns4: string;\n    newGood: string;\n    newTheme: string;\n    testId: number;\n    saveThemeForAdd: string;\n    newImg: any;\n    checkBoxForImg: boolean;\n    allTheme: any[];\n    public uploader: FileUploader = new FileUploader({isHTML5: true});\n    disable: boolean;\n\n    constructor(private testingService: TestingService) {\n        this.title = 'Testing';\n        this.newTest = [];\n        this.allTheme = [];\n        this.changeTest = false;\n        this.changeAddTest = false;\n        this.changeAddTheme = false;\n        this.testId = null;\n        this.saveThemeForAdd = null;\n        this.newImg = null;\n        this.newTheme = '';\n        this.checkBoxForImg = false;\n        this.disable = false;\n\n        this.uploader.onAfterAddingFile = (file: any) => {\n            console.log(file);\n            console.log(this.uploader);\n        };\n    }\n\n    sortTheme(theme) {\n        if (theme === \"Всі теми\") {\n            this.newTest = this.tests;\n            this.saveThemeForAdd = null;\n        } else {\n            this.saveThemeForAdd = theme;\n            theme = parseFloat(theme);\n            this.newTest = [];\n            this.newTest = this.tests.filter(\n                test => test.theme === theme);\n        }\n        this.changeTest = false;\n    }\n\n    activeChangeTest(data) {\n        this.newQuestion = data.question;\n        this.newAns1 = data.answer1;\n        this.newAns2 = data.answer2;\n        this.newAns3 = data.answer3;\n        this.newAns4 = data.answer4;\n        this.newGood = data.good;\n        this.testId = data.id;\n        this.disable = true;\n        this.changeTest = true;\n    }\n\n    confirmChangeTest() {\n        this.testingService.updateTest(this.testId, this.newQuestion, this.newAns1, this.newAns2, this.newAns3, this.newAns4, this.newGood);\n        this.tests = this.testingService.getAllTest();\n        this.newTest = this.tests;\n        this.changeTest = false;\n        this.disable = false;\n        alert('Інформація про питання оновлена!!!');\n    }\n\n    addQuestion() {\n        if (this.saveThemeForAdd === null) {\n            alert('Виберіть тему');\n        } else {\n            this.newQuestion = '';\n            this.newAns1 = '';\n            this.newAns2 = '';\n            this.newAns3 = '';\n            this.newAns4 = '';\n            this.newGood = null;\n            this.changeAddTest = true;\n            this.disable = true;\n        }\n    }\n\n    confirmAddTest() {\n        var tempPath;\n        if (this.uploader.queue.length > 0) {\n            tempPath = this.uploader.queue[0]._file.path;\n            this.newImg = '../src/assets/img/' + this.uploader.queue[0]._file.name;\n        } else {\n            tempPath = '';\n            this.newImg === null;\n        }\n        if (this.newImg === null) {\n            tempPath = '';\n            this.newImg = '../src/assets/img/test-img.jpg';\n        }\n        this.testingService.addQuestion(this.saveThemeForAdd, this.newQuestion, this.newAns1,\n            this.newAns2, this.newAns3, this.newAns4, this.newGood, this.newImg, tempPath);\n        this.tests = this.testingService.getAllTest();\n        this.sortTheme(this.saveThemeForAdd);\n        this.changeAddTest = false;\n        this.disable = false;\n        this.uploader.clearQueue();\n        alert('Питання було створено!!!');\n    }\n\n    cancelAddTest() {\n        this.changeAddTest = false;\n        this.changeAddTheme = false;\n        this.changeTest = false;\n        this.disable = false;\n    }\n\n    addTheme() {\n        this.disable = true;\n        this.changeAddTheme = true;\n    }\n\n    removeTheme() {\n        if (this.saveThemeForAdd === null) {\n            alert('Виберіть тему для видалення!!!');\n        } else {\n            this.testingService.destroyTheme(this.saveThemeForAdd);\n            this.testingService.destroyQuestions(this.saveThemeForAdd);\n            this.themeArray = this.testingService.getAllTheme();\n            this.tests = this.testingService.getAllTest();\n            this.newTest = this.tests;\n            this.changeTest = false;\n            alert('Тема та всі її питання були видалені!!!')\n        }\n    }\n\n    removeQuestion() {\n        this.testingService.destroyQuestion(this.testId);\n        this.themeArray = this.testingService.getAllTheme();\n        this.tests = this.testingService.getAllTest();\n        this.newTest = this.tests;\n        this.changeTest = false;\n        this.disable = false;\n        alert('Питання було видалено!!!')\n    }\n\n    confirmAddTheme() {\n        this.testingService.createTheme(this.newTheme);\n        this.themeArray = this.testingService.getAllTheme();\n        this.changeAddTheme = false;\n        this.disable = false;\n        alert('Тема була створена!!!');\n    }\n\n    ngOnInit() {\n        remote.getCurrentWindow().maximize();\n        this.themeArray = this.testingService.getAllTheme();\n        this.tests = this.testingService.getAllTest();\n        this.newTest = this.tests;\n    }\n}\n"]}